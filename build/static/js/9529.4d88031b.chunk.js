"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[9529],{69529:function(e,n,t){t.r(n),t.d(n,{default:function(){return an}});var s=t(29439),r=t(44461),i=t(88391),l=t(59643),a=t(74931),c=t(40099),o=t(7121),d=t(82362),u=t(33649),m=t(64444),x=t(12496),h=t(69413),f=t(1413),j=t(78886),Z=t(76677),v=t(82849),p=t(99498),b=t(75208),g=t(42625),N=t(15866),C=t(8991),w=t(16867),k=t(65958),y=t(79369),I=t(33784),S=t(27230),z=t(23712),D={title:""},A=k.Ry().shape({title:k.Z_().required("You must enter a title")});var P=function(e){var n=(0,a.I0)(),t=(0,i.useState)(!1),r=(0,s.Z)(t,2),l=r[0],c=r[1],o=(0,j.cI)({mode:"onChange",defaultValues:D,resolver:(0,v.X)(A)}),d=o.control,u=o.formState,m=o.handleSubmit,x=o.reset,h=u.isValid,k=u.dirtyFields;function P(){c(!1)}return u.errors,(0,i.useEffect)((function(){l||x(D)}),[l,x]),(0,z.jsx)("div",{children:(0,z.jsx)(b.Z,{className:"w-320 mx-8 sm:mx-12 rounded-xl shadow-0",square:!0,sx:{backgroundColor:function(e){return(0,Z._j)(e.palette.background.default,"light"===e.palette.mode?.03:.25)}},children:l?(0,z.jsx)(g.Z,{onClickAway:P,children:(0,z.jsxs)("form",{className:"p-12",onSubmit:m((function(e){n((0,S.Bl)(e)),P()})),children:[(0,z.jsx)(j.Qr,{name:"title",control:d,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{className:"mb-16",required:!0,fullWidth:!0,variant:"filled",label:"List title",autoFocus:!0,InputProps:{endAdornment:(0,z.jsx)(C.Z,{position:"end",children:(0,z.jsx)(N.Z,{onClick:P,size:"large",children:(0,z.jsx)(I.Z,{size:18,children:"heroicons-outline:x"})})})}}))}}),(0,z.jsx)("div",{className:"flex justify-between items-center",children:(0,z.jsx)(p.Z,{variant:"contained",color:"secondary",type:"submit",disabled:y.Z.isEmpty(k)||!h,size:"small",children:"Add"})})]})}):(0,z.jsx)(p.Z,{onClick:function(e){e.stopPropagation(),c(!0)},classes:{root:"font-medium w-full rounded-lg p-24 justify-start"},startIcon:(0,z.jsx)(I.Z,{children:"heroicons-outline:plus-circle"}),sx:{color:"text.secondary"},children:"Add another list"})})})},R=t(81087),V=t(46999),E=t(29595),L=t(31203),F={title:""},Q=k.Ry().shape({title:k.Z_().required("You must enter a title")});var T=function(e){var n=(0,a.I0)(),t=(0,i.useState)(!1),r=(0,s.Z)(t,2),l=r[0],c=r[1],o=(0,j.cI)({mode:"onChange",defaultValues:F,resolver:(0,v.X)(Q)}),d=o.control,u=o.formState,m=o.handleSubmit,x=o.reset,h=u.isValid,Z=u.dirtyFields;function b(){c(!1)}return u.errors,(0,i.useEffect)((function(){l||x(F)}),[l,x]),(0,z.jsx)("div",{className:"w-full",children:l?(0,z.jsx)(g.Z,{onClickAway:b,children:(0,z.jsxs)("form",{onSubmit:m((function(t){n((0,L.mS)({listId:e.listId,newData:t})).then((function(){e.onCardAdded()})),b()})),children:[(0,z.jsx)(j.Qr,{name:"title",control:d,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,{className:"mb-16",required:!0,fullWidth:!0,variant:"filled",label:"Card title",autoFocus:!0,InputProps:(0,f.Z)((0,f.Z)({},n),{},{endAdornment:(0,z.jsx)(C.Z,{position:"end",children:(0,z.jsx)(N.Z,{onClick:b,size:"large",children:(0,z.jsx)(I.Z,{size:18,children:"heroicons-outline:x"})})})})})}}),(0,z.jsx)("div",{className:"flex justify-between items-center",children:(0,z.jsx)(p.Z,{variant:"contained",color:"secondary",type:"submit",disabled:y.Z.isEmpty(Z)||!h,size:"small",children:"Add"})})]})}):(0,z.jsx)(p.Z,{onClick:function(e){e.stopPropagation(),c(!0)},classes:{root:"font-medium w-full rounded-lg p-24 justify-start"},startIcon:(0,z.jsx)(I.Z,{children:"heroicons-outline:plus-circle"}),sx:{color:"text.secondary"},children:"Add another card"})})},O=t(49194),q=t(11849),_=t(95590),M=t(27062),W=t(32172),X=t(41959),B=t(60948);var Y=function(e){var n=e.id,t=(0,a.v9)((function(e){return(0,B.mX)(e,n)}));return t?(0,z.jsx)(q.Z,{title:t.title,children:(0,z.jsx)(X.Z,{className:"font-semibold text-12 mx-4 mb-6",label:t.title,size:"small"})},n):null},H=t(95526),K=t(92854),U=t(6628);function $(e){return(0,U.Z)(1,arguments),Math.floor(function(e){return(0,U.Z)(1,arguments),(0,K.Z)(e).getTime()}(e)/1e3)}var G=t(62263),J=t(82001);function ee(e){(0,U.Z)(1,arguments);var n=(0,J.Z)(e);return(0,K.Z)(1e3*n)}var ne=function(e){var n=e.dueDate;return n?(0,z.jsx)(X.Z,{size:"small",className:(0,E.Z)("flex items-center font-semibold text-12 mx-4 mb-6",$(new Date)>n?"bg-red text-white":"bg-green text-white"),sx:{"& .MuiChip-icon":{color:"inherit"}},label:(0,G.Z)(ee(n),"MMM do yy"),icon:(0,z.jsx)(I.Z,{size:16,color:"inherit",children:"heroicons-outline:clock"})}):null};var te=function(e){var n,t=e.card,s=(n=t,y.Z.sum(n.checklists.map((function(e){return y.Z.sum(e.checkItems.map((function(e){return e.checked?1:0})))})))),r=function(e){return y.Z.sum(e.checklists.map((function(e){return e.checkItems.length})))}(t);return 0===r?null:(0,z.jsx)(X.Z,{size:"small",className:(0,E.Z)("flex items-center font-semibold text-12 mx-4 mb-6",s===r?"bg-green text-white":"bg-grey-500 text-white"),sx:{"& .MuiChip-icon":{color:"inherit"}},icon:(0,z.jsx)(I.Z,{size:16,color:"inherit",children:"heroicons-outline:check"}),label:"".concat(s,"/").concat(r)})},se=(0,R.ZP)(b.Z)((function(e){var n=e.theme;return{transitionProperty:"box-shadow",transitionDuration:n.transitions.duration.short,transitionTimingFunction:n.transitions.easing.easeInOut}}));var re=function(e){var n,t=e.cardId,s=e.index,r=(0,a.I0)(),i=(0,a.v9)(h.ZO),c=(0,a.v9)((function(e){return(0,L.Qs)(e,t)})),o=(0,a.v9)(H.ad),d=(n=c,y.Z.sum(n.activities.map((function(e){return"comment"===e.type?1:0})))),u=y.Z.find(c.attachments,{id:c.attachmentCoverId});return(0,z.jsx)(l._l,{draggableId:t,index:s,type:"card",children:function(e,n){return(0,z.jsx)("div",(0,f.Z)((0,f.Z)((0,f.Z)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:(0,z.jsxs)(se,{className:(0,E.Z)(n.isDragging?"shadow-lg":"shadow","w-full mb-12 rounded-lg cursor-pointer"),onClick:function(e){return function(e,n){e.preventDefault(),r((0,W.V)(n))}(e,c)},children:[i.settings.cardCoverImages&&u&&(0,z.jsx)("img",{className:"block",src:u.src,alt:"card cover"}),(0,z.jsxs)("div",{className:"p-16 pb-0",children:[c.labels.length>0&&(0,z.jsx)("div",{className:"flex flex-wrap mb-8 -mx-4",children:c.labels.map((function(e){return(0,z.jsx)(Y,{id:e},e)}))}),(0,z.jsx)(_.Z,{className:"font-medium mb-12",children:null===c||void 0===c?void 0:c.title}),(c.dueDate||c.checklists.length>0)&&(0,z.jsxs)("div",{className:"flex items-center mb-12 -mx-4",children:[(0,z.jsx)(ne,{dueDate:c.dueDate}),(0,z.jsx)(te,{card:c})]})]}),(0,z.jsxs)("div",{className:"flex justify-between h-48 px-16",children:[(0,z.jsxs)("div",{className:"flex items-center space-x-4",children:[c.subscribed&&(0,z.jsx)(I.Z,{size:16,color:"action",children:"heroicons-outline:eye"}),""!==c.description&&(0,z.jsx)(I.Z,{size:16,color:"action",children:"heroicons-outline:document-text"}),c.attachments&&(0,z.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,z.jsx)(I.Z,{size:16,color:"action",children:"heroicons-outline:paper-clip"}),(0,z.jsx)(_.Z,{className:"",color:"text.secondary",children:c.attachments.length})]}),d>0&&(0,z.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,z.jsx)(I.Z,{size:16,color:"action",children:"heroicons-outline:chat"}),(0,z.jsx)(_.Z,{className:"",color:"text.secondary",children:d})]})]}),(0,z.jsx)("div",{className:"flex items-center justify-end space-x-12",children:c.memberIds.length>0&&(0,z.jsx)("div",{className:"flex justify-start",children:(0,z.jsx)(M.Z,{max:3,classes:{avatar:"w-24 h-24 text-12"},children:c.memberIds.map((function(e){var n=y.Z.find(o,{id:e});return(0,z.jsx)(q.Z,{title:n.name,children:(0,z.jsx)(O.Z,{alt:"member",src:n.avatar},s)},e)}))})})})]})]})}))}})},ie=t(7790),le=t(43747),ae=t(22563),ce=t(71027),oe=t(40738),de=k.Ry().shape({title:k.Z_().required("You must enter a title")});var ue=function(e){var n=e.list,t=e.cardIds,r=(0,a.I0)(),l=(0,i.useState)(null),c=(0,s.Z)(l,2),o=c[0],d=c[1],u=(0,i.useState)(!1),m=(0,s.Z)(u,2),x=m[0],h=m[1],p=(0,j.cI)({mode:"onChange",defaultValues:{title:n.title},resolver:(0,v.X)(de)}),b=p.control,k=p.formState,D=p.handleSubmit,A=p.reset,P=k.isValid,R=k.dirtyFields;function V(e){e.stopPropagation(),h(!0)}function E(){h(!1)}return k.errors,(0,i.useEffect)((function(){x||A({title:n.title})}),[x,A,n.title]),(0,i.useEffect)((function(){x&&o&&d(null)}),[o,x]),(0,z.jsx)("div",(0,f.Z)((0,f.Z)({},e.handleProps),{},{children:(0,z.jsxs)("div",{className:"flex items-center justify-between h-48 sm:h-56 px-12",children:[(0,z.jsx)("div",{className:"flex items-center min-w-0",children:x?(0,z.jsx)(g.Z,{onClickAway:E,children:(0,z.jsx)("form",{className:"flex w-full",onSubmit:D((function(e){r((0,S.s9)({id:n.id,newData:e})),E()})),children:(0,z.jsx)(j.Qr,{name:"title",control:b,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{variant:"outlined",margin:"none",autoFocus:!0,size:"small",InputProps:{endAdornment:(0,z.jsx)(C.Z,{position:"end",children:(0,z.jsx)(N.Z,{type:"submit",disabled:y.Z.isEmpty(R)||!P,size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:check"})})})}}))}})})}):(0,z.jsx)(_.Z,{className:"text-14 font-medium cursor-pointer",onClick:V,children:n.title})}),(0,z.jsxs)("div",{className:"flex items-center",children:[(0,z.jsx)(oe.Z,{className:"flex items-center justify-center min-w-24 h-24 mx-4 text-sm font-semibold leading-24 rounded-full",sx:{backgroundColor:function(e){return(0,Z._j)(e.palette.background.default,"light"===e.palette.mode?.1:.3)},color:"text.secondary"},children:t.length}),(0,z.jsx)(N.Z,{"aria-owns":o?"actions-menu":null,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},variant:"outlined",size:"small",children:(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:dots-vertical"})}),(0,z.jsxs)(ae.Z,{id:"actions-menu",anchorEl:o,open:Boolean(o),onClose:function(){d(null)},children:[(0,z.jsxs)(ce.Z,{onClick:function(){r((0,S.J_)(n.id))},children:[(0,z.jsx)(ie.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:trash"})}),(0,z.jsx)(le.Z,{primary:"Remove List"})]}),(0,z.jsxs)(ce.Z,{onClick:V,children:[(0,z.jsx)(ie.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:pencil"})}),(0,z.jsx)(le.Z,{primary:"Rename List"})]})]})]})]})}))},me=(0,R.ZP)(b.Z)((function(e){var n=e.theme;return{transitionProperty:"box-shadow",transitionDuration:n.transitions.duration.short,transitionTimingFunction:n.transitions.easing.easeInOut}}));var xe=function(e){var n=e.listId,t=e.cardIds,s=(0,i.useRef)(null),r=(0,a.v9)((function(e){return(0,S.Q)(e,n)}));function c(){s.current.scrollTop=s.current.scrollHeight}return r?(0,z.jsx)(l._l,{draggableId:n,index:e.index,type:"list",children:function(e,i){return(0,z.jsx)("div",(0,f.Z)((0,f.Z)({ref:e.innerRef},e.draggableProps),{},{children:(0,z.jsxs)(me,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,Z.$n)(e.palette.background.default,.4):(0,Z.$n)(e.palette.background.default,.02)}},className:(0,E.Z)(i.isDragging?"shadow-lg":"shadow-0","w-256 sm:w-320 mx-8 max-h-full flex flex-col rounded-xl border"),square:!0,children:[(0,z.jsx)(ue,{list:r,cardIds:t,className:"border-b-1",handleProps:e.dragHandleProps}),(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(V.Z,{className:"flex flex-col flex-1 flex-auto h-full min-h-0 w-full p-0 overflow-auto",ref:s,children:(0,z.jsx)(l.bK,{droppableId:n,type:"card",direction:"vertical",children:function(e){return(0,z.jsxs)("div",{ref:e.innerRef,className:"flex flex-col w-full h-full px-12 min-h-1",children:[t.map((function(e,n){return(0,z.jsx)(re,{cardId:e,index:n,list:r},e)})),e.placeholder]})}})})}),(0,z.jsx)("div",{className:"p-12",children:(0,z.jsx)(T,{listId:n,onCardAdded:c})})]})}))}}):null},he=t(12799),fe=t(93433),je=t(18807),Ze=t(16135),ve=t(31417),pe=t(83862),be=t(79174),ge=t(10927),Ne=t(18754);var Ce=function(e){var n=(0,a.v9)((function(n){return(0,H.Tj)(n,e.item.idMember)}));switch(e.item.type){case"comment":return(0,z.jsxs)(be.ZP,{dense:!0,className:"px-0",children:[(0,z.jsx)(O.Z,{alt:null===n||void 0===n?void 0:n.name,src:null===n||void 0===n?void 0:n.avatar,className:"w-32 h-32"}),(0,z.jsxs)(Ne.Z,{className:"flex flex-col mx-16 p-12",sx:{borderRadius:"5px 20px 20px 5px",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[(0,z.jsxs)("div",{className:"flex items-center",children:[(0,z.jsx)(_.Z,{children:null===n||void 0===n?void 0:n.name}),(0,z.jsx)(_.Z,{className:"mx-8 text-12",color:"text.secondary",children:(0,ge.Z)(ee(e.item.time),{addSuffix:!0})})]}),(0,z.jsx)(_.Z,{children:e.item.message})]})]});case"attachment":return(0,z.jsxs)(be.ZP,{dense:!0,className:"px-0",children:[(0,z.jsx)(O.Z,{alt:null===n||void 0===n?void 0:n.name,src:null===n||void 0===n?void 0:n.avatar,className:"w-32 h-32"}),(0,z.jsxs)("div",{className:"flex items-center mx-16",children:[(0,z.jsxs)(_.Z,{children:[null===n||void 0===n?void 0:n.name,","]}),(0,z.jsx)(_.Z,{className:"mx-8",children:e.item.message}),(0,z.jsx)(_.Z,{className:"text-12",color:"text.secondary",children:(0,ge.Z)(ee(e.item.time),{addSuffix:!0})})]})]});default:return null}},we=t(56617);var ke=function(e){var n=(0,i.useState)(null),t=(0,s.Z)(n,2),r=t[0],l=t[1];function a(e){l(e.currentTarget)}function c(){l(null)}switch(e.item.type){case"image":return(0,z.jsxs)("div",{className:"flex w-full sm:w-1/2 mb-16 px-16",children:[(0,z.jsx)("div",{className:"flex items-center justify-center min-w-128 w-128 h-128",children:(0,z.jsx)(we.Z,{className:"overflow-hidden shadow",children:(0,z.jsx)("img",{className:"block max-h-full max-h-full",src:e.item.src,alt:"attachment"})})}),(0,z.jsxs)("div",{className:"flex flex-auto flex-col justify-center items-start min-w-0 px-16",children:[(0,z.jsxs)("div",{className:"flex items-center w-full",children:[(0,z.jsx)(_.Z,{className:"text-16 font-semibold truncate shrink",children:e.item.name}),e.card.attachmentCoverId===e.item.id&&(0,z.jsx)(I.Z,{className:"text-orange-300 mx-4",size:20,children:"heroicons-outline:start"})]}),(0,z.jsx)(_.Z,{className:"truncate w-full mb-12",color:"text.secondary",children:(0,G.Z)(ee(e.item.time),"Pp")}),(0,z.jsx)(p.Z,{"aria-owns":r?"actions-menu":null,"aria-haspopup":"true",onClick:a,variant:"outlined",size:"small",endIcon:(0,z.jsx)(I.Z,{size:16,children:"heroicons-outline:chevron-down"}),children:"Actions"}),(0,z.jsxs)(ae.Z,{id:"actions-menu",anchorEl:r,open:Boolean(r),onClose:c,children:[e.card.attachmentCoverId!==e.item.id?(0,z.jsx)(ce.Z,{onClick:function(){c(),e.makeCover(e.item.id)},children:"Make Cover"}):(0,z.jsx)(ce.Z,{onClick:function(){c(),e.removeCover()},children:"Remove Cover"}),(0,z.jsx)(ce.Z,{onClick:function(){c(),e.removeAttachment(e.item.id)},children:"Remove Attachment"})]})]})]},e.item.id);case"link":return(0,z.jsxs)("div",{className:"flex w-full sm:w-1/2 mb-16 px-16",children:[(0,z.jsx)(we.Z,{className:"min-w-128 w-128 h-128 flex items-center justify-center rounded-4 overflow-hidden shadow",children:(0,z.jsx)(_.Z,{className:"font-semibold",children:"LINK"})}),(0,z.jsxs)("div",{className:"flex flex-auto flex-col justify-center items-start min-w-0 px-16",children:[(0,z.jsx)(_.Z,{className:"text-16 font-semibold truncate w-full",children:e.item.url}),(0,z.jsx)(_.Z,{className:"truncate w-full mb-12",color:"text.secondary",children:e.item.time}),(0,z.jsx)(p.Z,{"aria-owns":r?"actions-menu":null,"aria-haspopup":"true",onClick:a,variant:"outlined",size:"small",endIcon:(0,z.jsx)(I.Z,{size:16,children:"heroicons-outline:chevron-down"}),children:"Actions"}),(0,z.jsx)(ae.Z,{id:"simple-menu",anchorEl:r,open:Boolean(r),onClose:c,children:(0,z.jsx)(ce.Z,{onClick:function(){c(),e.removeAttachment(e.item.id)},children:"Remove Attachment"})})]})]},e.item.id);default:return null}},ye=t(4663),Ie=t(1433),Se=t(60883);var ze=function(e){return e=e||{},y.Z.defaults(e,{id:Se.Z.generateGUID(),name:"",checked:!1})},De=k.Ry().shape({name:k.Z_().required("You must enter a title")});var Ae=function(e){var n=(0,j.cI)({mode:"onChange",defaultValues:{name:e.name},resolver:(0,v.X)(De)}),t=n.control,s=n.formState,r=n.handleSubmit,i=n.reset,l=s.isValid,a=s.dirtyFields;return s.errors,(0,z.jsx)("form",{onSubmit:r((function(n){e.onListItemAdd(ze(n)),i({name:e.name})})),children:(0,z.jsxs)(be.ZP,{className:"px-0",dense:!0,children:[(0,z.jsx)("span",{className:"w-40"}),(0,z.jsx)(j.Qr,{name:"name",control:t,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{className:"flex flex-1 mx-8",name:"name",variant:"outlined",placeholder:"Add an item"}))}}),(0,z.jsx)(Ie.Z,{className:"mx-4","aria-label":"Add",size:"small",color:"secondary",type:"submit",disabled:y.Z.isEmpty(a)||!l,children:(0,z.jsx)(I.Z,{children:"heroicons-outline:plus"})})]})})},Pe=t(66930);var Re=function(e){var n=e.item,t=e.onListItemChange,s=e.index,r=(0,j.cI)({mode:"onChange",defaultValues:n}),l=r.control,a=(0,r.watch)();return(0,i.useEffect)((function(){y.Z.isEqual(n,a)||t(a,s)}),[a,s,t,n]),(0,z.jsxs)(be.ZP,{className:"px-0",dense:!0,children:[(0,z.jsx)(j.Qr,{name:"checked",control:l,defaultValue:!1,render:function(e){var n=e.field,t=n.onChange,s=n.value;return(0,z.jsx)(Pe.Z,{tabIndex:-1,checked:s,onChange:function(e){return t(e.target.checked)},disableRipple:!0})}}),(0,z.jsx)(j.Qr,{name:"name",control:l,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{className:"flex flex-1 mx-8",variant:"outlined"}))}}),(0,z.jsx)(N.Z,{"aria-label":"Delete",onClick:e.onListItemRemove,size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:trash"})})]},n.id)},Ve=k.Ry().shape({name:k.Z_().required("You must enter a title")}),Ee=(0,i.forwardRef)((function(e,n){var t=(0,i.useState)(!1),r=(0,s.Z)(t,2),l=r[0],a=r[1],c=(0,j.cI)({mode:"onChange",defaultValues:{name:e.name},resolver:(0,v.X)(Ve)}),o=c.control,d=c.formState,u=c.handleSubmit,m=c.reset,x=d.isValid,h=d.dirtyFields;d.errors;function Z(e){e.stopPropagation(),a(!0)}function p(){a(!1)}return(0,i.useEffect)((function(){l||m({name:e.name})}),[l,m,e.name]),(0,i.useImperativeHandle)(n,(function(){return{openForm:Z}})),l?(0,z.jsx)(g.Z,{onClickAway:p,children:(0,z.jsx)("form",{onSubmit:u((function(n){e.onNameChange(n.name),p()})),children:(0,z.jsx)(j.Qr,{name:"name",control:o,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{variant:"outlined",margin:"dense",autoFocus:!0,InputProps:{endAdornment:(0,z.jsx)(C.Z,{position:"end",children:(0,z.jsx)(N.Z,{type:"submit",disabled:y.Z.isEmpty(h)||!x,size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:check"})})})}}))}})})}):(0,z.jsx)(_.Z,{className:"text-16 font-semibold cursor-pointer mx-8",onClick:Z,children:e.name})}));var Le=function(e){var n=e.onCheckListChange,t=e.checklist,r=e.index,l=(0,i.useState)(null),a=(0,s.Z)(l,2),c=a[0],o=a[1],d=(0,i.useRef)(),u=(0,j.cI)({mode:"onChange",defaultValues:t}),m=u.watch,x=u.control,h=m();function f(){o(null)}function Z(){return y.Z.sum(h.checkItems.map((function(e){return e.checked?1:0})))}return(0,i.useEffect)((function(){y.Z.isEqual(h,t)||n(h,r)}),[h,r,n,t]),h?(0,z.jsxs)("div",{className:"mb-24",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between mt-16 mb-12",children:[(0,z.jsxs)("div",{className:"flex items-center",children:[(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:check-circle"}),(0,z.jsx)(j.Qr,{name:"name",control:x,defaultValue:"",render:function(e){var n=e.field,t=n.onChange,s=n.value;return(0,z.jsx)(Ee,{name:s,onNameChange:function(e){return t(e)},ref:d})}})]}),(0,z.jsxs)("div",{className:"",children:[(0,z.jsx)(N.Z,{"aria-owns":c?"actions-menu":null,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},variant:"outlined",size:"small",children:(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:dots-vertical"})}),(0,z.jsxs)(ae.Z,{id:"actions-menu",anchorEl:c,open:Boolean(c),onClose:f,children:[(0,z.jsxs)(ce.Z,{onClick:e.onRemoveCheckList,children:[(0,z.jsx)(ie.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:trash"})}),(0,z.jsx)(le.Z,{primary:"Remove Checklist"})]}),(0,z.jsxs)(ce.Z,{onClick:function(e){f(),d.current.openForm(e)},children:[(0,z.jsx)(ie.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:pencil"})}),(0,z.jsx)(le.Z,{primary:"Rename Checklist"})]})]})]})]}),(0,z.jsxs)("div",{className:"",children:[(0,z.jsxs)("div",{className:"flex items-center -mx-6",children:[(0,z.jsx)(_.Z,{className:"flex font-semibold mx-6",children:"".concat(Z()," / ").concat(h.checkItems.length)}),(0,z.jsx)(ye.Z,{className:"flex flex-1 mx-6",variant:"determinate",color:"secondary",value:100*Z()/h.checkItems.length})]}),(0,z.jsx)(j.Qr,{name:"checkItems",control:x,defaultValue:[],render:function(e){var n=e.field,t=n.onChange,s=n.value;return(0,z.jsxs)(ve.Z,{className:"",children:[s.map((function(e,n){return(0,z.jsx)(Re,{item:e,index:n,onListItemChange:function(e,n){t(y.Z.setIn(s,"[".concat(n,"]"),e))},onListItemRemove:function(){t(y.Z.reject(s,{id:e.id}))}},e.id)})),(0,z.jsx)(Ae,{onListItemAdd:function(e){return t([].concat((0,fe.Z)(s),[e]))}})]})}})]})]}):null};var Fe=function(e){return e=e||{},y.Z.defaults(e,{id:Se.Z.generateGUID(),type:"comment",idMember:null,message:"",time:$(new Date)})},Qe=k.Ry().shape({message:k.Z_().required("You must enter a comment")}),Te={idMember:"baa88231-0ee6-4028-96d5-7f187e0f4cd5",message:""};var Oe=function(e){var n=(0,a.v9)((function(e){return(0,H.Tj)(e,Te.idMember)})),t=(0,j.cI)({mode:"onChange",defaultValues:Te,resolver:(0,v.X)(Qe)}),s=t.control,r=t.formState,i=t.handleSubmit,l=t.reset,c=r.isValid,o=r.dirtyFields,d=r.errors;return n?(0,z.jsxs)("form",{onSubmit:i((function(n){e.onCommentAdd(Fe((0,f.Z)((0,f.Z)({},Te),n))),l(Te)})),className:"flex -mx-8",children:[(0,z.jsx)(O.Z,{className:"w-32 h-32 mx-8",alt:n.name,src:n.avatar}),(0,z.jsxs)("div",{className:"flex flex-col items-start flex-1 mx-8",children:[(0,z.jsx)(j.Qr,{name:"message",control:s,render:function(e){var n,t=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},t),{},{className:"flex flex-1",fullWidth:!0,error:!!d.message,helperText:null===d||void 0===d||null===(n=d.message)||void 0===n?void 0:n.message,row:3,variant:"outlined",label:"Add comment",placeholder:"Write a comment..."}))}}),(0,z.jsx)(p.Z,{className:"mt-16","aria-label":"save",variant:"contained",color:"secondary",type:"submit",size:"small",disabled:y.Z.isEmpty(o)||!c,children:"Save"})]})]}):null},qe=t(95914);var _e=function(e){return(0,z.jsx)(qe.ZP,{open:Boolean(e.state),anchorEl:e.state,onClose:e.onClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,z.jsx)(z.Fragment,{children:e.children})})};var Me=function(e){var n=(0,i.useState)(null),t=(0,s.Z)(n,2),r=t[0],l=t[1],a=e.dueDate?(0,G.Z)(ee(e.dueDate),"Pp"):(0,G.Z)(new Date,"Pp");function c(){l(null)}return(0,z.jsxs)("div",{children:[(0,z.jsx)(N.Z,{onClick:function(e){l(e.currentTarget)},size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:calendar"})}),(0,z.jsx)(_e,{state:r,onClose:c,children:(0,z.jsx)("div",{className:"p-16 max-w-192",children:e.dueDate?(0,z.jsx)(ce.Z,{onClick:function(n){e.onRemoveDue(),c()},children:"Remove Due Date"}):(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(je.x,{value:a,inputFormat:"Pp",onChange:function(n,t){e.onDueChange($(n)),c()},renderInput:function(e){return(0,z.jsx)(w.Z,(0,f.Z)({label:"Due date",placeholder:"Choose a due date",className:"w-full"},e))}})})})})]})};var We=function(e){var n=(0,a.v9)(B.ir),t=(0,i.useState)(null),r=(0,s.Z)(t,2),l=r[0],c=r[1];return(0,z.jsxs)("div",{children:[(0,z.jsx)(N.Z,{onClick:function(e){c(e.currentTarget)},size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:tag"})}),(0,z.jsx)(_e,{state:l,onClose:function(){c(null)},children:(0,z.jsx)("div",{className:"",children:n.map((function(n){return(0,z.jsxs)(ce.Z,{className:"px-8",onClick:function(t){e.onToggleLabel(n.id)},children:[(0,z.jsx)(Pe.Z,{checked:e.labels.includes(n.id)}),(0,z.jsx)(le.Z,{className:"mx-8",children:n.title}),(0,z.jsx)(ie.Z,{className:"min-w-24",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:tag"})})]},n.id)}))})})]})};var Xe=function(e){var n=(0,i.useState)(null),t=(0,s.Z)(n,2),r=t[0],l=t[1],c=(0,a.v9)(H.ad);return(0,z.jsxs)("div",{children:[(0,z.jsx)(N.Z,{onClick:function(e){l(e.currentTarget)},size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:user-circle"})}),(0,z.jsx)(_e,{state:r,onClose:function(){l(null)},children:(0,z.jsx)("div",{className:"",children:c.map((function(n){return(0,z.jsxs)(ce.Z,{className:"px-8",onClick:function(t){e.onToggleMember(n.id)},children:[(0,z.jsx)(Pe.Z,{checked:e.memberIds.includes(n.id)}),(0,z.jsx)(O.Z,{className:"w-32 h-32",src:n.avatar}),(0,z.jsx)(le.Z,{className:"mx-8",children:n.name})]},n.id)}))})})]})};var Be=function(e){return e=e||{},y.Z.defaults(e,{id:Se.Z.generateGUID(),name:"",checkItems:[]})},Ye=k.Ry().shape({name:k.Z_().required("You must enter a title")});var He=function(e){var n=(0,i.useState)(null),t=(0,s.Z)(n,2),r=t[0],l=t[1],a=(0,j.cI)({mode:"onChange",defaultValues:{name:e.name},resolver:(0,v.X)(Ye)}),c=a.control,o=a.formState,d=a.handleSubmit,u=a.reset,m=o.isValid,x=o.dirtyFields,h=o.errors;function Z(){l(null)}return(0,i.useEffect)((function(){r||u({name:e.name})}),[r,u,e.name]),(0,z.jsxs)("div",{children:[(0,z.jsx)(N.Z,{onClick:function(e){l(e.currentTarget)},size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:check-circle"})}),(0,z.jsx)(_e,{state:r,onClose:Z,children:(0,z.jsxs)("form",{onSubmit:d((function(n){e.onAddCheckList(Be(n)),Z()})),className:"p-16 flex flex-col items-end",children:[(0,z.jsx)(j.Qr,{name:"name",control:c,render:function(e){var n,t=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},t),{},{label:"Checklist title",error:!!h.name,helperText:null===h||void 0===h||null===(n=h.name)||void 0===n?void 0:n.message,fullWidth:!0,className:"mb-12",variant:"outlined",required:!0,autoFocus:!0}))}}),(0,z.jsx)(p.Z,{color:"secondary",type:"submit",disabled:y.Z.isEmpty(x)||!m,variant:"contained",children:"Add"})]})})]})};var Ke=function(e){var n=(0,i.useState)(null),t=(0,s.Z)(n,2),r=t[0],l=t[1];return(0,z.jsxs)("div",{children:[(0,z.jsx)(N.Z,{onClick:function(e){l(e.currentTarget)},size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:dots-horizontal"})}),(0,z.jsx)(_e,{state:r,onClose:function(){l(null)},children:(0,z.jsx)(ce.Z,{onClick:e.onRemoveCard,children:"Remove Card"})})]})};var Ue=function(e){var n=(0,a.I0)(),t=(0,a.v9)(h.ZO),s=(0,a.v9)(B.ir),r=(0,a.v9)(H.ad),l=(0,a.v9)(W.VN),c=(0,a.v9)((function(e){return(0,S.Q)(e,null===l||void 0===l?void 0:l.listId)})),o=(0,j.cI)({mode:"onChange",defaultValues:l}),u=o.register,m=o.watch,x=o.control,Z=o.setValue,v=m(),p=(0,d.Nr)((function(e){n((0,W.OV)(e))}),600);return(0,i.useEffect)((function(){l&&(y.Z.isEqual(l,v)||p(v))}),[l,v,p]),(0,i.useEffect)((function(){u("attachmentCoverId")}),[u]),l?(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(Ze.Z,{className:"flex flex-col sm:flex-row p-8",children:[(0,z.jsxs)("div",{className:"flex flex-auto flex-col py-16 px-0 sm:px-16",children:[(0,z.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between justify-center items-center mb-24",children:[(0,z.jsxs)("div",{className:"mb-16 sm:mb-0 flex items-center",children:[(0,z.jsx)(_.Z,{children:t.title}),(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:chevron-right"}),(0,z.jsx)(_.Z,{children:c&&c.title})]}),v.dueDate&&(0,z.jsx)(je.x,{value:(0,G.Z)(ee(v.dueDate),"Pp"),inputFormat:"Pp",onChange:function(e){return Z("dueDate",$(e))},renderInput:function(e){return(0,z.jsx)(w.Z,(0,f.Z)({label:"Due date",placeholder:"Choose a due date",className:"w-full sm:w-auto"},e))}})]}),(0,z.jsx)("div",{className:"flex items-center mb-24",children:(0,z.jsx)(j.Qr,{name:"title",control:x,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{label:"Title",type:"text",variant:"outlined",fullWidth:!0,required:!0,InputProps:{endAdornment:(0,z.jsx)(C.Z,{position:"end",children:l.subscribed&&(0,z.jsx)(I.Z,{size:20,color:"action",children:"heroicons-outline:eye"})})}}))}})}),(0,z.jsx)("div",{className:"w-full mb-24",children:(0,z.jsx)(j.Qr,{name:"description",control:x,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{label:"Description",multiline:!0,rows:"4",variant:"outlined",fullWidth:!0}))}})}),v.labels&&v.labels.length>0&&(0,z.jsxs)("div",{className:"flex-1 mb-24 mx-8",children:[(0,z.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:tag"}),(0,z.jsx)(_.Z,{className:"font-semibold text-16 mx-8",children:"Labels"})]}),(0,z.jsx)(pe.Z,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:s,getOptionLabel:function(e){return e.title},value:v.labels.map((function(e){return y.Z.find(s,{id:e})})),onChange:function(e,n){Z("labels",n.map((function(e){return e.id})))},renderTags:function(e,n){return e.map((function(e,t){return(0,z.jsx)(X.Z,(0,f.Z)((0,f.Z)({label:e.title},n({index:t})),{},{className:"m-3"}))}))},renderInput:function(e){return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},e),{},{placeholder:"Select multiple Labels",label:"Labels",variant:"outlined",InputLabelProps:{shrink:!0}}))}})]}),v.memberIds&&v.memberIds.length>0&&(0,z.jsxs)("div",{className:"flex-1 mb-24 mx-8",children:[(0,z.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:users"}),(0,z.jsx)(_.Z,{className:"font-semibold text-16 mx-8",children:"Members"})]}),(0,z.jsx)(pe.Z,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:r,getOptionLabel:function(e){return e.name},value:v.memberIds.map((function(e){return y.Z.find(r,{id:e})})),onChange:function(e,n){Z("memberIds",n.map((function(e){return e.id})))},renderTags:function(e,n){return e.map((function(e,t){return(0,z.jsx)(X.Z,(0,f.Z)((0,f.Z)({label:e.name},n({index:t})),{},{className:(0,E.Z)("m-3",e.class),avatar:(0,z.jsx)(q.Z,{title:e.name,children:(0,z.jsx)(O.Z,{src:e.avatar})})}))}))},renderInput:function(e){return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},e),{},{placeholder:"Select multiple Members",label:"Members",variant:"outlined",InputLabelProps:{shrink:!0}}))}})]}),v.attachments&&v.attachments.length>0&&(0,z.jsxs)("div",{className:"mb-24",children:[(0,z.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:paper-clip"}),(0,z.jsx)(_.Z,{className:"font-semibold text-16 mx-8",children:"Attachments"})]}),(0,z.jsx)("div",{className:"flex flex-col sm:flex-row flex-wrap -mx-16",children:v.attachments.map((function(e){return(0,z.jsx)(ke,{item:e,card:v,makeCover:function(){Z("attachmentCoverId",e.id)},removeCover:function(){Z("attachmentCoverId","")},removeAttachment:function(){Z("attachments",y.Z.reject(v.attachments,{id:e.id}))}},e.id)}))})]}),v.checklists&&v.checklists.map((function(e,n){return(0,z.jsx)(Le,{checklist:e,index:n,onCheckListChange:function(e,n){Z("checklists",y.Z.setIn(v.checklists,"[".concat(n,"]"),e))},onRemoveCheckList:function(){Z("checklists",y.Z.reject(v.checklists,{id:e.id}))}},e.id)})),(0,z.jsxs)("div",{className:"mb-24",children:[(0,z.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:chat-alt"}),(0,z.jsx)(_.Z,{className:"font-semibold text-16 mx-8",children:"Comment"})]}),(0,z.jsx)("div",{children:(0,z.jsx)(Oe,{onCommentAdd:function(e){return Z("activities",[e].concat((0,fe.Z)(v.activities)))}})})]}),(0,z.jsx)(j.Qr,{name:"activities",control:x,defaultValue:[],render:function(e){var n=e.field,t=(n.onChange,n.value);return(0,z.jsx)("div",{children:t.length>0&&(0,z.jsxs)("div",{className:"mb-24",children:[(0,z.jsxs)("div",{className:"flex items-center mt-16",children:[(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:clipboard-list"}),(0,z.jsx)(_.Z,{className:"font-semibold text-16 mx-8",children:"Activity"})]}),(0,z.jsx)(ve.Z,{className:"",children:t.map((function(e){return(0,z.jsx)(Ce,{item:e},e.id)}))})]})})}})]}),(0,z.jsx)("div",{className:"flex order-first sm:order-last items-start sticky top-0",children:(0,z.jsxs)(oe.Z,{className:"flex flex-row sm:flex-col items-center sm:py-8 rounded-12 w-full",sx:{backgroundColor:"background.default"},children:[(0,z.jsx)(N.Z,{className:"order-last sm:order-first",color:"inherit",onClick:function(e){return n((0,W.T2)())},size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:x"})}),(0,z.jsxs)("div",{className:"flex flex-row items-center sm:items-start sm:flex-col flex-1",children:[(0,z.jsx)(j.Qr,{name:"dueDate",control:x,defaultValue:null,render:function(e){var n=e.field,t=n.onChange,s=n.value;return(0,z.jsx)(Me,{onDueChange:t,onRemoveDue:function(){return t(null)},dueDate:s})}}),(0,z.jsx)(j.Qr,{name:"labels",control:x,defaultValue:[],render:function(e){var n=e.field,t=n.onChange,s=n.value;return(0,z.jsx)(We,{onToggleLabel:function(e){return t(y.Z.xor(s,[e]))},labels:s})}}),(0,z.jsx)(j.Qr,{name:"memberIds",control:x,defaultValue:[],render:function(e){var n=e.field,t=n.onChange,s=n.value;return(0,z.jsx)(Xe,{onToggleMember:function(e){return t(y.Z.xor(s,[e]))},memberIds:s})}}),(0,z.jsx)(j.Qr,{name:"attachments",control:x,defaultValue:[],render:function(e){var n=e.field;n.onChange,n.value;return(0,z.jsx)(N.Z,{size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:paper-clip"})})}}),(0,z.jsx)(j.Qr,{name:"checklists",control:x,defaultValue:[],render:function(e){var n=e.field,t=n.onChange;n.value;return(0,z.jsx)(He,{onAddCheckList:function(e){return t([].concat((0,fe.Z)(v.checklists),[e]))}})}}),(0,z.jsx)(Ke,{onRemoveCard:function(){return n((0,W.yJ)())}})]})]})})]})}):null};var $e=function(e){var n=(0,a.I0)(),t=(0,a.v9)(W.o1);return(0,z.jsx)(he.Z,{classes:{paper:"max-w-lg w-full m-8 sm:m-24"},onClose:function(e){return n((0,W.T2)())},open:t,children:(0,z.jsx)(Ue,{})})},Ge=t(61251),Je=t(76663),en=t(55409);var nn=function(e){var n=(0,a.I0)(),t=(0,a.v9)(h.ZO),s=(0,j.cI)({mode:"onChange",defaultValues:t.settings}),r=s.watch,l=s.control,c=s.reset,o=r(),u=(0,d.Nr)((function(e){n((0,h.wN)(e))}),600);return(0,d.KW)((function(){!y.Z.isEmpty(o)&&null!==t&&void 0!==t&&t.settings&&(y.Z.isEqual(t.settings,o)||u({settings:o}))}),[t,o,u]),(0,i.useEffect)((function(){t&&c(t.settings)}),[t,c]),y.Z.isEmpty(o)?null:(0,z.jsxs)("div",{children:[(0,z.jsx)(Ne.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,Z.$n)(e.palette.background.default,.4):(0,Z.$n)(e.palette.background.default,.02)}},className:"border-b-1",children:(0,z.jsxs)(en.Z,{className:"flex items-center px-4",children:[(0,z.jsx)(N.Z,{onClick:function(){return e.onSetSidebarOpen(!1)},color:"inherit",size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:x"})}),(0,z.jsx)(_.Z,{className:"px-4 font-medium text-16",color:"inherit",variant:"subtitle1",children:"Settings"})]})}),(0,z.jsxs)(ve.Z,{className:"py-24",children:[(0,z.jsxs)(be.ZP,{children:[(0,z.jsx)(ie.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:photograph"})}),(0,z.jsx)(le.Z,{primary:"Card Cover Images"}),(0,z.jsx)(Ge.Z,{children:(0,z.jsx)(j.Qr,{name:"cardCoverImages",control:l,render:function(e){var n=e.field,t=n.onChange,s=n.value;return(0,z.jsx)(Je.Z,{onChange:function(e){t(e.target.checked)},checked:s})}})})]}),(0,z.jsxs)(be.ZP,{children:[(0,z.jsx)(ie.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:eye-off"})}),(0,z.jsx)(le.Z,{primary:"Subscribe"}),(0,z.jsx)(Ge.Z,{children:(0,z.jsx)(j.Qr,{name:"subscribed",control:l,render:function(e){var n=e.field,t=n.onChange,s=n.value;return(0,z.jsx)(Je.Z,{onChange:function(e){t(e.target.checked)},checked:s})}})})]}),(0,z.jsxs)(be.ZP,{button:!0,onClick:function(){return n((0,h.L1)(t.id))},children:[(0,z.jsx)(ie.Z,{className:"min-w-40",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:trash"})}),(0,z.jsx)(le.Z,{primary:"Delete Board"})]})]})]})},tn=t(13663),sn=k.Ry().shape({title:k.Z_().required("You must enter a title")});var rn=function(e){var n=(0,a.I0)(),t=(0,a.v9)(h.ZO),r=(0,i.useState)(!1),l=(0,s.Z)(r,2),c=l[0],o=l[1],d=(0,j.cI)({mode:"onChange",defaultValues:{title:t.title},resolver:(0,v.X)(sn)}),u=d.control,m=d.formState,x=d.handleSubmit,Z=d.reset,p=m.isValid,b=m.dirtyFields;function k(){o(!1)}return m.errors,(0,i.useEffect)((function(){c||Z({title:t.title})}),[c,Z,t.title]),(0,z.jsx)("div",{className:"flex items-center min-w-0",children:c?(0,z.jsx)(g.Z,{onClickAway:k,children:(0,z.jsx)("form",{className:"flex w-full",onSubmit:x((function(e){n((0,h.wN)(e)),k()})),children:(0,z.jsx)(j.Qr,{name:"title",control:u,render:function(e){var n=e.field;return(0,z.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{variant:"filled",margin:"none",autoFocus:!0,hiddenLabel:!0,InputProps:{endAdornment:(0,z.jsx)(C.Z,{position:"end",children:(0,z.jsx)(N.Z,{type:"submit",disabled:y.Z.isEmpty(b)||!p,size:"large",children:(0,z.jsx)(I.Z,{children:"heroicons-outline:check"})})})}}))}})})}):(0,z.jsxs)("div",{className:"flex items-center justify-center space-x-12",children:[(0,z.jsx)(_.Z,{className:"text-14  sm:text-24 md:text-32 font-extrabold tracking-tight leading-none cursor-pointer",onClick:function(e){e.stopPropagation(),o(!0)},color:"inherit",children:t.title}),(null===t||void 0===t?void 0:t.settings.subscribed)&&(0,z.jsx)(I.Z,{children:"heroicons-outline:eye"})]})})};var ln=function(e){return(0,z.jsxs)("div",{className:"p-24 sm:p-32 w-full border-b-1 flex flex-col sm:flex-row items-center justify-between container",children:[(0,z.jsx)("div",{className:"flex items-center mb-12 sm:mb-0",children:(0,z.jsx)(rn,{})}),(0,z.jsxs)("div",{className:"flex items-center justify-end space-x-12",children:[(0,z.jsx)(p.Z,{className:"whitespace-nowrap",component:tn.Z,to:"/apps/scrumboard/boards/",startIcon:(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:view-boards"}),children:"Boards"}),(0,z.jsx)(p.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return e.onSetSidebarOpen(!0)},startIcon:(0,z.jsx)(I.Z,{size:20,children:"heroicons-outline:cog"}),children:"Settings"})]})]})};var an=(0,r.Z)("scrumboardApp",x.Z)((0,o.Z)((function(e){var n=(0,a.I0)(),t=(0,a.v9)(h.ZO),r=(0,m.Z)((function(e){return e.breakpoints.down("lg")})),o=(0,c.UO)(),x=(0,i.useState)(!1),f=(0,s.Z)(x,2),j=f[0],Z=f[1];return(0,d.KW)((function(){return n((0,h.SZ)(o.boardId)),n((0,L.vm)(o.boardId)),n((0,S.yr)(o.boardId)),n((0,B.g7)(o.boardId)),function(){n((0,h.iH)())}}),[n,o]),t?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(u.Z,{header:(0,z.jsx)(ln,{onSetSidebarOpen:Z}),content:(0,z.jsx)(z.Fragment,{children:(null===t||void 0===t?void 0:t.lists)&&(0,z.jsx)("div",{className:"flex flex-1 overflow-x-auto overflow-y-hidden h-full",children:(0,z.jsx)(l.Z5,{onDragEnd:function(e){var t=e.source,s=e.destination;s&&(t.droppableId===s.droppableId&&t.index===s.index||("list"===e.type&&n((0,h.aD)(e)),"card"===e.type&&n((0,h.aO)(e))))},children:(0,z.jsx)(l.bK,{droppableId:"list",type:"list",direction:"horizontal",children:function(e){return(0,z.jsxs)("div",{ref:e.innerRef,className:"flex py-16 md:py-24 px-8 md:px-12",children:[null===t||void 0===t?void 0:t.lists.map((function(e,n){return(0,z.jsx)(xe,{listId:e.id,cardIds:e.cards,index:n},e.id)})),e.placeholder,(0,z.jsx)(P,{})]})}})})})}),rightSidebarOpen:j,rightSidebarContent:(0,z.jsx)(nn,{onSetSidebarOpen:Z}),rightSidebarOnClose:function(){return Z(!1)},scroll:r?"normal":"content",rightSidebarWidth:320}),(0,z.jsx)($e,{})]}):null})))}}]);