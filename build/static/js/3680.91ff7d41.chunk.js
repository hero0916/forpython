"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[3680],{23680:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var n=r(28480),c=r(44461),a=r(64444),o=r(89472),i=r(99498),s=r(90951),u=r(56617),l=r(95590),d=r(13960),p=r(74931),m=r(86827),f=r(33784),h=r(85484),x=r(23712);var g=function(e){var t=(0,p.I0)(),r=(0,p.v9)(h.Lm);return(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,x.jsx)(l.Z,{component:d.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Products"}),(0,x.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[(0,x.jsxs)(u.Z,{component:d.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,x.jsx)(f.Z,{color:"disabled",children:"heroicons-solid:search"}),(0,x.jsx)(s.Z,{placeholder:"Search products",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:r,inputProps:{"aria-label":"Search"},onChange:function(e){return t((0,h.c5)(e))}})]}),(0,x.jsx)(d.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,x.jsx)(i.Z,{className:"",component:m.rU,to:"/apps/e-commerce/products/new",variant:"contained",color:"secondary",startIcon:(0,x.jsx)(f.Z,{children:"heroicons-outline:plus"}),children:"Add"})})]})]})},Z=r(29439),v=r(96650),w=r(79369),y=r(66930),b=r(32557),j=r(73387),C=r(31432),k=r(25338),P=r(60483),N=r(29595),A=r(88391),S=r(7121),I=r(6693),T=r(15866),R=r(7790),M=r(43747),O=r(22563),q=r(71027),z=r(71113),E=r(67591),$=r(11849),B=r(40738),H=r(88296),L=r(76677),U=[{id:"image",align:"left",disablePadding:!0,label:"",sort:!1},{id:"name",align:"left",disablePadding:!1,label:"Name",sort:!0},{id:"categories",align:"left",disablePadding:!1,label:"Category",sort:!0},{id:"priceTaxIncl",align:"right",disablePadding:!1,label:"Price",sort:!0},{id:"quantity",align:"right",disablePadding:!1,label:"Quantity",sort:!0},{id:"active",align:"right",disablePadding:!1,label:"Active",sort:!0}];var F=function(e){var t=e.selectedProductIds,r=t.length,n=(0,A.useState)(null),c=(0,Z.Z)(n,2),a=c[0],o=c[1],i=(0,p.I0)();function s(){o(null)}return(0,x.jsx)(H.Z,{children:(0,x.jsxs)(P.Z,{className:"h-48 sm:h-64",children:[(0,x.jsxs)(C.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,L.$n)(e.palette.background.default,.4):(0,L.$n)(e.palette.background.default,.02)}},padding:"none",className:"w-40 md:w-64 text-center z-99",children:[(0,x.jsx)(y.Z,{indeterminate:r>0&&r<e.rowCount,checked:0!==e.rowCount&&r===e.rowCount,onChange:e.onSelectAllClick}),r>0&&(0,x.jsxs)(B.Z,{className:"flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10 border-b-1",sx:{background:function(e){return e.palette.background.default}},children:[(0,x.jsx)(T.Z,{"aria-owns":a?"selectedProductsMenu":null,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},size:"large",children:(0,x.jsx)(f.Z,{children:"heroicons-outline:dots-horizontal"})}),(0,x.jsx)(O.Z,{id:"selectedProductsMenu",anchorEl:a,open:Boolean(a),onClose:s,children:(0,x.jsx)(z.Z,{children:(0,x.jsxs)(q.Z,{onClick:function(){i((0,h.$0)(t)),e.onMenuItemClick(),s()},children:[(0,x.jsx)(R.Z,{className:"min-w-40",children:(0,x.jsx)(f.Z,{children:"heroicons-outline:trash"})}),(0,x.jsx)(M.Z,{primary:"Remove"})]})})})]})]}),U.map((function(t){return(0,x.jsx)(C.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,L.$n)(e.palette.background.default,.4):(0,L.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:e.order.id===t.id&&e.order.direction,children:t.sort&&(0,x.jsx)($.Z,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,x.jsx)(E.Z,{active:e.order.id===t.id,direction:e.order.direction,onClick:(r=t.id,function(t){e.onRequestSort(t,r)}),className:"font-semibold",children:t.label})})},t.id);var r}),this)]})})};var _=(0,S.Z)((function(e){var t=(0,p.I0)(),r=(0,p.v9)(h.nR),n=(0,p.v9)(h.Lm),c=(0,A.useState)(!0),a=(0,Z.Z)(c,2),o=a[0],i=a[1],s=(0,A.useState)([]),u=(0,Z.Z)(s,2),m=u[0],g=u[1],S=(0,A.useState)(r),T=(0,Z.Z)(S,2),R=T[0],M=T[1],O=(0,A.useState)(0),q=(0,Z.Z)(O,2),z=q[0],E=q[1],$=(0,A.useState)(10),B=(0,Z.Z)($,2),H=B[0],L=B[1],U=(0,A.useState)({direction:"asc",id:null}),_=(0,Z.Z)(U,2),D=_[0],X=_[1];return(0,A.useEffect)((function(){t((0,h.Xp)()).then((function(){return i(!1)}))}),[t]),(0,A.useEffect)((function(){0!==n.length?(M(w.Z.filter(r,(function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))),E(0)):M(r)}),[r,n]),o?(0,x.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,x.jsx)(I.Z,{})}):0===R.length?(0,x.jsx)(d.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,x.jsx)(l.Z,{color:"text.secondary",variant:"h5",children:"There are no products!"})}):(0,x.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,x.jsx)(v.Z,{className:"grow overflow-x-auto",children:(0,x.jsxs)(b.Z,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",children:[(0,x.jsx)(F,{selectedProductIds:m,order:D,onSelectAllClick:function(e){e.target.checked?g(R.map((function(e){return e.id}))):g([])},onRequestSort:function(e,t){var r=t,n="desc";D.id===t&&"desc"===D.direction&&(n="asc"),X({direction:n,id:r})},rowCount:R.length,onMenuItemClick:function(){g([])}}),(0,x.jsx)(j.Z,{children:w.Z.orderBy(R,[function(e){return"categories"===D.id?e.categories[0]:e[D.id]}],[D.direction]).slice(z*H,z*H+H).map((function(t){var r=-1!==m.indexOf(t.id);return(0,x.jsxs)(P.Z,{className:"h-72 cursor-pointer",hover:!0,role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,onClick:function(r){return n=t,void e.navigate("/apps/e-commerce/products/".concat(n.id,"/").concat(n.handle));var n},children:[(0,x.jsx)(C.Z,{className:"w-40 md:w-64 text-center",padding:"none",children:(0,x.jsx)(y.Z,{checked:r,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,t){var r=m.indexOf(t),n=[];-1===r?n=n.concat(m,t):0===r?n=n.concat(m.slice(1)):r===m.length-1?n=n.concat(m.slice(0,-1)):r>0&&(n=n.concat(m.slice(0,r),m.slice(r+1))),g(n)}(0,t.id)}})}),(0,x.jsx)(C.Z,{className:"w-52 px-4 md:px-0",component:"th",scope:"row",padding:"none",children:t.images.length>0&&t.featuredImageId?(0,x.jsx)("img",{className:"w-full block rounded",src:w.Z.find(t.images,{id:t.featuredImageId}).url,alt:t.name}):(0,x.jsx)("img",{className:"w-full block rounded",src:"assets/images/apps/ecommerce/product-image-placeholder.png",alt:t.name})}),(0,x.jsx)(C.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:t.name}),(0,x.jsx)(C.Z,{className:"p-4 md:p-16 truncate",component:"th",scope:"row",children:t.categories.join(", ")}),(0,x.jsxs)(C.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:[(0,x.jsx)("span",{children:"$"}),t.priceTaxIncl]}),(0,x.jsxs)(C.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:[t.quantity,(0,x.jsx)("i",{className:(0,N.Z)("inline-block w-8 h-8 rounded mx-8",t.quantity<=5&&"bg-red",t.quantity>5&&t.quantity<=25&&"bg-orange",t.quantity>25&&"bg-green")})]}),(0,x.jsx)(C.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:t.active?(0,x.jsx)(f.Z,{className:"text-green",size:20,children:"heroicons-outline:check-circle"}):(0,x.jsx)(f.Z,{className:"text-red",size:20,children:"heroicons-outline:minus-circle"})})]},t.id)}))})]})}),(0,x.jsx)(k.Z,{className:"shrink-0 border-t-1",component:"div",count:R.length,rowsPerPage:H,page:z,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,t){E(t)},onRowsPerPageChange:function(e){L(e.target.value)}})]})}));var D=(0,c.Z)("eCommerceApp",o.Z)((function(){var e=(0,a.Z)((function(e){return e.breakpoints.down("lg")}));return(0,x.jsx)(n.Z,{header:(0,x.jsx)(g,{}),content:(0,x.jsx)(_,{}),scroll:e?"normal":"content"})}))},89472:function(e,t,r){var n=r(42601),c=r(43034),a=r(95074),o=r(11273),i=r(85484),s=(0,n.UY)({products:i.ZP,product:o.ZP,orders:a.ZP,order:c.ZP});t.Z=s},43034:function(e,t,r){r.d(t,{H8:function(){return m},co:function(){return l},zT:function(){return f}});var n,c=r(4942),a=r(74165),o=r(15861),i=r(51551),s=r(63387),u=r.n(s),l=(0,i.hg)("eCommerceApp/order/getOrder",function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/api/ecommerce/orders/".concat(t));case 2:return r=e.sent,e.next=5,r.data;case 5:return n=e.sent,e.abrupt("return",void 0===n?null:n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=(0,i.hg)("eCommerceApp/order/saveOrder",function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().put("/api/ecommerce/orders",t);case 2:return r=e.sent,e.next=5,r.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,i.oM)({name:"eCommerceApp/order",initialState:null,reducers:{resetOrder:function(){return null}},extraReducers:(n={},(0,c.Z)(n,l.fulfilled,(function(e,t){return t.payload})),(0,c.Z)(n,d.fulfilled,(function(e,t){return t.payload})),n)}),m=p.actions.resetOrder,f=function(e){return e.eCommerceApp.order};t.ZP=p.reducer},95074:function(e,t,r){r.d(t,{AU:function(){return l},ny:function(){return f},uN:function(){return x},xn:function(){return g},zH:function(){return d}});var n,c=r(4942),a=r(74165),o=r(15861),i=r(51551),s=r(63387),u=r.n(s),l=(0,i.hg)("eCommerceApp/orders/getOrders",(0,o.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/api/ecommerce/orders");case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))),d=(0,i.hg)("eCommerceApp/orders/removeOrders",function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch,r.getState,e.next=3,u().delete("/api/ecommerce/orders",{data:t});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),p=(0,i.HF)({}),m=p.getSelectors((function(e){return e.eCommerceApp.orders})),f=m.selectAll,h=(m.selectById,(0,i.oM)({name:"eCommerceApp/orders",initialState:p.getInitialState({searchText:""}),reducers:{setOrdersSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(n={},(0,c.Z)(n,l.fulfilled,p.setAll),(0,c.Z)(n,d.fulfilled,(function(e,t){return p.removeMany(e,t.payload)})),n)})),x=h.actions.setOrdersSearchText,g=function(e){return e.eCommerceApp.orders.searchText};t.ZP=h.reducer},11273:function(e,t,r){r.d(t,{AC:function(){return x},Fn:function(){return Z},gg:function(){return m},kh:function(){return p},ms:function(){return g},wv:function(){return d}});var n,c=r(4942),a=r(74165),o=r(15861),i=r(51551),s=r(63387),u=r.n(s),l=r(60883),d=(0,i.hg)("eCommerceApp/product/getProduct",function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/api/ecommerce/products/".concat(t));case 2:return r=e.sent,e.next=5,r.data;case 5:return n=e.sent,e.abrupt("return",void 0===n?null:n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,i.hg)("eCommerceApp/product/removeProduct",function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,r){var n,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch,n=r.getState,c=n().eCommerceApp.product.id,e.next=4,u().delete("/api/ecommerce/products/".concat(c));case 4:return e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),m=(0,i.hg)("eCommerceApp/product/saveProduct",function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,r){var n,c,o,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch,n=r.getState,c=n().eCommerceApp.id,e.next=4,u().put("/api/ecommerce/products/".concat(c),t);case 4:return o=e.sent,e.next=7,o.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f=(0,i.oM)({name:"eCommerceApp/product",initialState:null,reducers:{resetProduct:function(){return null},newProduct:{reducer:function(e,t){return t.payload},prepare:function(e){return{payload:{id:l.Z.generateGUID(),name:"",handle:"",description:"",categories:[],tags:[],images:[],priceTaxExcl:0,priceTaxIncl:0,taxRate:0,comparedPrice:0,quantity:0,sku:"",width:"",height:"",depth:"",weight:"",extraShippingFee:0,active:!0}}}}},extraReducers:(n={},(0,c.Z)(n,d.fulfilled,(function(e,t){return t.payload})),(0,c.Z)(n,m.fulfilled,(function(e,t){return t.payload})),(0,c.Z)(n,p.fulfilled,(function(e,t){return null})),n)}),h=f.actions,x=h.newProduct,g=h.resetProduct,Z=function(e){return e.eCommerceApp.product};t.ZP=f.reducer},85484:function(e,t,r){r.d(t,{$0:function(){return d},Lm:function(){return g},Xp:function(){return l},c5:function(){return x},nR:function(){return f}});var n,c=r(4942),a=r(74165),o=r(15861),i=r(51551),s=r(63387),u=r.n(s),l=(0,i.hg)("eCommerceApp/products/getProducts",(0,o.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/api/ecommerce/products");case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))),d=(0,i.hg)("eCommerceApp/products",function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch,r.getState,e.next=3,u().delete("/api/ecommerce/products",{data:t});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),p=(0,i.HF)({}),m=p.getSelectors((function(e){return e.eCommerceApp.products})),f=m.selectAll,h=(m.selectById,(0,i.oM)({name:"eCommerceApp/products",initialState:p.getInitialState({searchText:""}),reducers:{setProductsSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(n={},(0,c.Z)(n,l.fulfilled,p.setAll),(0,c.Z)(n,d.fulfilled,(function(e,t){return p.removeMany(e,t.payload)})),n)})),x=h.actions.setProductsSearchText,g=function(e){return e.eCommerceApp.products.searchText};t.ZP=h.reducer}}]);